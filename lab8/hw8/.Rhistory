knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
library(janitor)
#install.packages("here")
sydneybeaches <- read_csv("data/sydneybeaches.csv")
library(here)
sydneybeaches <-read_csv(here("lab8", "data", "sydneybeaches.csv")) %>% janitor::clean_names()
sydneybeaches <-read_csv(here("lab8", "hw8", "data", "sydneybeaches.csv")) %>% janitor::clean_names()
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
library(janitor)
#install.packages("here")
sydneybeaches <- read_csv("data/sydneybeaches.csv")
library(here)
sydneybeaches <-read_csv(here("lab8", "hw8", "data", "sydneybeaches.csv")) %>% janitor::clean_names()
names(sydneybeaches)
sydneybeaches_long <- sydneybeaches %>%
select(site, date, enterococci_cfu_100ml)
sydneybeaches_long
sydneybeaches_wide <- sydneybeaches_long %>%
pivot_wider(names_from=date,
values_from=enterococci_cfu_100ml)
sydneybeaches_wide %>%
pivot_longer(-site,
names_to="date",
values_to="enterococci_cfu_100ml"
)
sydneybeaches_long %>%
separate(date, into=c("day", "month", "year"), sep="/")
mean_entero <- sydneybeaches_long %>%
separate(date, into=c("day", "month", "year"), sep="/") %>%
group_by(site, year) %>%
summarize(mean_enterococci_cfu_100ml=mean(enterococci_cfu_100ml, na.rm=T))
mean_entero
mean_entero %>%
pivot_wider(names_from=site,
values_from=mean_enterococci_cfu_100ml)
mean_entero %>%
pivot_wider(names_from=site,
values_from=mean_enterococci_cfu_100ml) %>%
filter(year==2018) %>%
pivot_longer(-year,
names_to = "site",
values_to = "mean_enterococci_cfu_100ml") %>%
arrange(desc(mean_enterococci_cfu_100ml))
mean_entero %>%
pivot_wider(names_from=site,
values_from=mean_enterococci_cfu_100ml) %>%
filter(year==2018) %>%
pivot_longer(-year,
names_to = "site",
values_to = "mean_enterococci_cfu_100ml") %>%
slice_max(mean_enterococci_cfu_100ml, n=3)
tail(sydneybeaches)
mean_entero %>%
pivot_wider(names_from=site,
values_from=mean_enterococci_cfu_100ml)
mean_entero %>%
pivot_wider(names_from=site,
values_from=mean_enterococci_cfu_100ml) %>%
filter(year==2018) %>%
pivot_longer(-year,
names_to = "site",
values_to = "mean_enterococci_cfu_100ml") %>%
slice_max(mean_enterococci_cfu_100ml, n=3)
sydneybeaches_wide <- sydneybeaches_long %>%
pivot_wider(names_from=date,
values_from=enterococci_cfu_100ml)
sydneybeaches_wide %>%
pivot_longer(-site,
names_to="date",
values_to="enterococci_cfu_100ml"
)
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
library(janitor)
library(skimr)
library(naniar)
amniota <- readr::read_csv("data/amniota.csv")
amphibio <- readr::read_csv("data/amphibio.csv")
amphibio <- janitor::clean_names(amphibio)
glimpse(amniota)
glimpse(amphibio)
amniota %>% summarize(number_nas = sum(is.na(amniota)))
amniota %>% miss_var_summary()
amphibio %>% summarize(number_nas = sum(is.na(amphibio)))
amniota_tidy <- amniota %>% na_if("-999")
amniota %>%
naniar::replace_with_na_all(condition = ~.x == -999)
amniota_tidy %>%
summarize(number_nas = sum(is.na(amniota_tidy))) #how many NAs
amniota_tidy %>%
filter(female_maturity_d=="-30258.711")
names(amniota_tidy)
amniota_tidy %>%
select(genus, species, female_maturity_d) %>%
mutate(female_maturity_d2=ifelse(female_maturity_d<0, NA, female_maturity_d))%>%
arrange(female_maturity_d2)
naniar::miss_var_summary(amniota_tidy) #how many NAs with percentages
naniar::miss_var_summary(amphibio)
amniota_tidy %>%
select(class, egg_mass_g) %>%
group_by(class) %>%
naniar::miss_var_summary(order=T)
amphibio %>%
select(fos, ter, arb, aqu) %>%
summarise_all(~(sum(is.na(.))))
amniota_pre <-
readr::read_csv(file = "data/amniota.csv", na = c("-999"))
library(tidyverse)
library(RColorBrewer)
library(paletteer)
library(janitor)
library(here)
options(scipen=999) #cancels the use of scientific notation for the session
homerange <- read_csv(here("lab11", "data", "Tamburelloetal_HomeRangeDatabase.csv"))
p <- homerange %>%
ggplot(aes(x=taxon, fill=trophic.guild))+
geom_bar(na.rm=T, position="dodge")
p
p+theme_classic()+
theme(axis.text.x = element_text(angle = 60, hjust=1))+
labs(title = "Observations by Taxon in Homerange Data",
x = NULL,
y= "n",
fill= "Trophic Guild")
p+theme_linedraw()+
theme(legend.position = "bottom",
axis.text.x = element_text(angle = 60, hjust=1))+
labs(title = "Observations by Taxon in Homerange Data",
x = NULL,
y= "n",
fill= "Trophic Guild")
#install.packages("ggthemes")
library(ggthemes)
ls("package:ggthemes")[grepl("theme_", ls("package:ggthemes"))]
p+ theme_igray()+
theme(legend.position = "bottom",
axis.text.x = element_text(angle = 60, hjust=1))+
labs(title = "Observations by Taxon in Homerange Data",
x = NULL,
y= "n",
fill= "Trophic Guild")
?RColorBrewer
display.brewer.pal(4,"GnBu")
p+scale_fill_brewer(palette = "BuPu")+
theme(legend.position = "bottom",
axis.text.x = element_text(angle = 60, hjust=1))+
labs(title = "Observations by Taxon in Homerange Data",
x = NULL,
y= "n",
fill= "Trophic Guild")
colors <- paletteer::palettes_d_names
my_palette <- paletteer_d("ggprism::flames")
barplot(rep(1,14), axes=FALSE, col=my_palette)
p+scale_fill_manual(values=my_palette)+
theme(legend.position = "bottom",
axis.text.x = element_text(angle = 60, hjust=1))+
labs(title = "Observations by Taxon in Homerange Data",
x = NULL,
y= "n",
fill= "Trophic Guild")
homerange %>%
ggplot(aes(x = log10.mass, y = log10.hra, color = locomotion)) +
geom_point() +
xlim(0, 4) +
ylim(1, 6)
ecosphere <- read_csv("data/ecs21351-sup-0003-SupplementS1.csv", skip=2, col_names = T) %>%
clean_names() %>%
separate(scientific_name, into = c("genus", "species"), sep=" ") %>%
na.omit() # remove NA's for now
names(ecosphere)
ecosphere %>%
ggplot(aes(x=diet, y=log10_mass, fill=diet))+
geom_boxplot(alpha=0.4)
ecosphere %>%
ggplot(aes(x=diet, y=log10_mass, fill=migratory_strategy))+
geom_boxplot(alpha=0.4)
ecosphere %>%
ggplot(aes(x=diet, y=log10_mass, fill=migratory_strategy))+
geom_boxplot(alpha=0.4) +
facet_wrap(~migratory_strategy, ncol=4)+
theme(axis.text.x = element_text(angle = 60, hjust = 1))+
labs(title = "Mass by Diet and Migratory Strategy",
x = NULL,
y = "Log 10 Mass",
fill = "Migratory Strategy")
ecosphere %>%
ggplot(aes(x=diet, y=log10_mass, fill=migratory_strategy))+
geom_boxplot(alpha=0.4)+
facet_grid(migratory_strategy~.)+
theme(axis.text.x = element_text(angle = 60, hjust = 1))+
labs(title = "Mass by Diet and Migratory Strategy",
x = NULL,
y = "Log 10 Mass",
fill = "Migratory Strategy")
ecosphere %>%
ggplot(aes(x=diet, y=log10_mass, fill=migratory_strategy))+
geom_boxplot(alpha=0.4)+
facet_grid(.~migratory_strategy)+
theme(axis.text.x = element_text(angle = 60, hjust = 1))+
labs(title = "Mass by Diet and Migratory Strategy",
x = NULL,
y = "Log 10 Mass",
fill = "Migratory Strategy")
ecosphere %>%
ggplot(aes(x=diet, y=log10_mass, fill=migratory_strategy))+
geom_boxplot(alpha=0.4)+
facet_grid(migratory_strategy~.)+
theme(axis.text.x = element_text(angle = 60, hjust = 1))+
labs(title = "Mass by Diet and Migratory Strategy",
x = NULL,
y = "Log 10 Mass",
fill = "Migratory Strategy")
ecosphere %>%
ggplot(aes(x=log10_mass))+
geom_density()+
facet_grid(diet~habitat, scales = "free_y")
library(tidyverse)
library(RColorBrewer)
library(paletteer)
library(janitor)
library(here)
options(scipen=999) #cancels the use of scientific notation for the session
homerange <- read_csv(here("lab11", "data", "Tamburelloetal_HomeRangeDatabase.csv"))
p <- homerange %>%
ggplot(aes(x=taxon, fill=trophic.guild))+
geom_bar(na.rm=T, position="dodge")
p
p+theme_classic()+
theme(axis.text.x = element_text(angle = 60, hjust=1))+
labs(title = "Observations by Taxon in Homerange Data",
x = NULL,
y= "n",
fill= "Trophic Guild")
p+theme_linedraw()+
theme(legend.position = "bottom",
axis.text.x = element_text(angle = 60, hjust=1))+
labs(title = "Observations by Taxon in Homerange Data",
x = NULL,
y= "n",
fill= "Trophic Guild")
#install.packages("ggthemes")
library(ggthemes)
ls("package:ggthemes")[grepl("theme_", ls("package:ggthemes"))]
p+ theme_tufte()+
theme(legend.position = "bottom",
axis.text.x = element_text(angle = 60, hjust=1))+
labs(title = "Observations by Taxon in Homerange Data",
x = NULL,
y= "n",
fill= "Trophic Guild")
?RColorBrewer
display.brewer.pal(4,"PuBuGn")
p+scale_fill_brewer(palette = "PuBuGn")+
theme(legend.position = "bottom",
axis.text.x = element_text(angle = 60, hjust=1))+
labs(title = "Observations by Taxon in Homerange Data",
x = NULL,
y= "n",
fill= "Trophic Guild")
colors <- paletteer::palettes_d_names
my_palette <- paletteer_d("fishualize::Neogobius_melanostomus")
barplot(rep(1,14), axes=FALSE, col=my_palette)
p+scale_fill_manual(values=my_palette)+
theme(legend.position = "bottom",
axis.text.x = element_text(angle = 60, hjust=1))+
labs(title = "Observations by Taxon in Homerange Data",
x = NULL,
y= "n",
fill= "Trophic Guild")
homerange %>%
ggplot(aes(x = log10.mass, y = log10.hra, color = locomotion)) +
geom_point() +
xlim(0, 4) + #zoom in zoom out by resetting the limit
ylim(1, 6)
p2<-homerange %>%
ggplot(aes(x = log10.mass, y = log10.hra, color = class)) +
geom_point()
p2+scale_color_brewer(palette = "BrBG")
homerange %>%
ggplot(aes(x=trophic.guild, fill = class))+
geom_bar(position = "dodge")+
scale_fill_manual(values=my_palette)
ecosphere <- read_csv("data/ecs21351-sup-0003-SupplementS1.csv", skip=2, col_names = T) %>%
clean_names() %>%
separate(scientific_name, into = c("genus", "species"), sep=" ") %>%
na.omit() # remove NA's for now
names(ecosphere)
ecosphere %>%
ggplot(aes(x=diet, y=log10_mass, fill=diet))+
geom_boxplot(alpha=0.4)
ecosphere %>%
ggplot(aes(x=diet, y=log10_mass, fill=migratory_strategy))+
geom_boxplot(alpha=0.4)
ecosphere %>%
ggplot(aes(x=diet, y=log10_mass, fill=migratory_strategy))+
geom_boxplot(alpha=0.4) +
facet_wrap(~migratory_strategy, ncol=3)+ # amount of columns
theme(axis.text.x = element_text(angle = 60, hjust = 1))+
labs(title = "Mass by Diet and Migratory Strategy",
x = NULL,
y = "Log 10 Mass",
fill = "Migratory Strategy")
ecosphere %>%
ggplot(aes(x=diet, y=log10_mass, fill=migratory_strategy))+
geom_boxplot(alpha=0.4)+
facet_grid(migratory_strategy~.)+ # put in row
theme(axis.text.x = element_text(angle = 60, hjust = 1))+
labs(title = "Mass by Diet and Migratory Strategy",
x = NULL,
y = "Log 10 Mass",
fill = "Migratory Strategy")
ecosphere %>%
ggplot(aes(x=diet, y=log10_mass, fill=migratory_strategy))+
geom_boxplot(alpha=0.4)+
facet_grid(.~migratory_strategy)+ # put to column
theme(axis.text.x = element_text(angle = 60, hjust = 1))+
labs(title = "Mass by Diet and Migratory Strategy",
x = NULL,
y = "Log 10 Mass",
fill = "Migratory Strategy")
ecosphere %>%
ggplot(aes(x=diet, y=log10_mass, fill=migratory_strategy))+
geom_boxplot(alpha=0.4)+
facet_grid(migratory_strategy~.)+
theme(axis.text.x = element_text(angle = 60, hjust = 1))+
labs(title = "Mass by Diet and Migratory Strategy",
x = NULL,
y = "Log 10 Mass",
fill = "Migratory Strategy")
ecosphere %>%
ggplot(aes(x=log10_mass))+
geom_density()+
facet_grid(diet~habitat, scales = "free_y")
ecosphere %>%
ggplot(aes(x=log10_mass))+
geom_density()+
facet_wrap(~habitat, scales = "free_y") # wrap
ecosphere %>%
ggplot(aes(x=log10_mass))+
geom_density()+
facet_grid(life_expectancy~habitat) # row~col
